<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="PunchCode">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://xqt01.github.io/front.png">
    <meta property="twitter:image" content="https://xqt01.github.io/front.png" />
    

    
    <meta name="title" content="Vue入门" />
    <meta property="og:title" content="Vue入门" />
    <meta property="twitter:title" content="Vue入门" />
    

    
    <meta name="description" content="Software Engineer">
    <meta property="og:description" content="Software Engineer" />
    <meta property="twitter:description" content="Software Engineer" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="Harry, 小拳头">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Vue入门 | 以终为始</title>

    <link rel="canonical" href="/post/54_vue%E5%85%A5%E9%97%A8/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css" rel="stylesheet" type="text/css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    

</head>




<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">PunchCode</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/tech">tech</a>
                        </li>
                        
                        <li>
                            <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">学习笔记</a>
                        </li>
                        
                        <li>
                            <a href="/categories/%E6%9D%82%E8%B0%88">杂谈</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/top/archive/">ARCHIVE</a></li>
                    
                        <li><a href="/top/about/">ABOUT</a></li>
                    

                    
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/front.png')
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/%E5%89%8D%E7%AB%AF" title="前端">
                            前端
                        </a>
                        
                    </div>
                    <h1>Vue入门</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                小拳头
                             
                            on 
                            Friday, July 2, 2021
                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <p>官方文档的中文介绍有简单入门的视频教程, 下载<strong>HbuilderX</strong>, 并导入官方的教程代码. 我学习的过程是先看完视频跑一边代码再根据文档梳理一次.</p>
<h2 id="hello-world">Hello World</h2>
<p>把<code>app</code>这个vue对象的<code>data对象</code>绑定到<code>&lt;div&gt;</code>元素中. 要注意<strong>只有当实例被创建时就已经存在于data中的property才是响应式的</strong>, 所以如果后面要用一个property, 在<code>data</code>中需要预先声明一个空的property.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
      {{ message }} {{name}} &lt;!--视图--&gt;
    &lt;/div&gt;
    
    &lt;script type=&quot;text/javascript&quot;&gt;
    var app = new Vue( //创建一个vue对象
        el: '#app',
        data: {
            message: 'Hello Vue!',
            name : &quot;Vue&quot;
        }
    });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>如果<code>data:obj</code>进行了映射, 但是同时<code>Object.freeze(obj)</code>, 那么obj中的property无法被修改. Vue有一些实例property和方法, 都带有前缀<code>$</code>. 比如用<code>$watch</code>可以观察变量前后的变化, 回调函数<code>function</code>会在<code>vm.a</code>改变后调用.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        {{a}}
    &lt;/div&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
    var data = { a : 1 };
    var vm = new Vue({
        el   : &quot;#app&quot;,
        data : data
    });

    //观察变量前后的变化
    vm.$watch('a', function(newVal, oldVal){
        console.log(newVal, oldVal);
    })
    //修改变量a
    vm.$data.a = &quot;test&quot;
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id="实例生命周期钩子">实例生命周期钩子</h2>
<p>可以在生命周期不同的阶段注入逻辑, <strong>不能在property或回调上使用箭头函数, 因为箭头函数没有this, 可能导致错误(向上级查找)</strong>, 可能导致<code>Uncaught TypeError: Cannot read property of undefined</code>或<code>Uncaught TypeError: this.myMethod is not a function</code>.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;app&quot;&gt;
    {{msg}}
&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
var vm = new Vue({
    el : &quot;#app&quot;,
    data : {
        msg : &quot;hi vue&quot;,
    },
    //在实例初始化之后，数据观测(data observer)和event/watcher事件配置之前被调用
    beforeCreate:function(){
        console.log('beforeCreate');
    },
    /* 在实例创建完成后被立即调用。
    在这一步, 实例已完成以下的配置：数据观测(data observer), 属性和方法的运算, watch/event事件回调
    然而, 挂载阶段还没开始, $el属性目前不可见。 */
    created	:function(){
        console.log('created');
    },
    //在挂载开始之前被调用: 相关的渲染函数首次被调用
    beforeMount : function(){
        console.log('beforeMount');

    },
    //el被新创建的vm.$el替换, 节点被vue节点替换
    mounted : function(){
        console.log('mounted');
    
    },
    //数据更新时调用
    beforeUpdate : function(){
        console.log('beforeUpdate');
            
    },
    //组件DOM已经更新, 组件更新完毕 
    updated : function(){
        console.log('updated');
            
    }
});
setTimeout(function(){
    vm.msg = &quot;change ......&quot;;
}, 3000);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>实例生命周期:

  <img src="/54_1.png" alt="">

</p>
<h2 id="模板语法">模板语法</h2>
<h3 id="插值mustache">插值(Mustache{{}})</h3>
<p>注意差值中支持的是表达式, 不是语句或者流控制等, 所以<code>if (ok) { return message}</code>这种写法不会生效.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        {{msg}}
        &lt;p&gt;Using mustaches: {{ rawHtml }}&lt;/p&gt;
        &lt;p v-html=&quot;rawHtml&quot;&gt;&lt;/p&gt; &lt;!--通过v-html指令把变量转换为html元素--&gt;
        &lt;div v-bind:class=&quot;color&quot;&gt;test...&lt;/div&gt; &lt;!--通过v-bind动态绑定颜色--&gt;
        &lt;p&gt;{{ number + 1 }}&lt;/p&gt; &lt;!--js运算--&gt;
        &lt;p&gt;{{ 1 == 1 ? 'YES' : 'NO' }}&lt;/p&gt; &lt;!--js三元运算--&gt;
        &lt;p&gt;{{ message.split('').reverse().join('') }}&lt;/p&gt; &lt;!--string的函数运算--&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            msg : &quot;hi vue&quot;,
            rawHtml : '&lt;span style=&quot;color:red&quot;&gt;this is should be red&lt;/span&gt;',
            color:'blue',
            number : 10,
            ok : 1,
            message : &quot;vue&quot;
        }
    });
    vm.msg = &quot;hi....&quot;;
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    .red{color:red;}
    .blue{color:blue; font-size:100px;}
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="指令directives">指令(Directives)</h3>
<p>带有<code>v-</code>前缀的特殊attribute.</p>
<ul>
<li><code>&lt;p v-if=&quot;seen&quot;&gt;现在你看到我了&lt;/p&gt;</code>: 通过表达式seen的真假选择是否插入/移除<code>&lt;p&gt;</code>元素</li>
<li><code>&lt;a v-bind:href=&quot;url&quot;&gt;...&lt;/a&gt;</code>: href attribute与<strong>表达式</strong>url的值绑定</li>
<li><code>&lt;a v-on:click=&quot;doSomething&quot;&gt;...&lt;/a&gt;</code>: 用<code>v-on</code>可以监听DOM事件</li>
</ul>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;p v-if=&quot;seen&quot;&gt;现在你看到我了&lt;/p&gt;
        &lt;a v-bind:href=&quot;url&quot;&gt;...&lt;/a&gt; &lt;!--绑定属性--&gt;
        &lt;div @click=&quot;click1&quot;&gt; , &lt;!--绑定点击事件--&gt;
            &lt;div @click.stop=&quot;click2&quot;&gt; &lt;!--.stop:当前点击事件执行后就停止--&gt;
                click me
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            seen : false, //是否渲染
            url : &quot;https://cn.vuejs.org/v2/guide/syntax.html#%E6%8C%87%E4%BB%A4&quot;
        },
        methods:{
            click1 : function () {
                console.log('click1......');
            },
            click2 : function () {
                console.log('click2......');
            }
        }
    });
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h3 id="缩写">缩写</h3>
<p>直接copy文档:</p>
<pre><code>&lt;!-- 完整语法 --&gt;
&lt;a v-bind:href=&quot;url&quot;&gt;...&lt;/a&gt;

&lt;!-- 缩写 --&gt;
&lt;a :href=&quot;url&quot;&gt;...&lt;/a&gt;

&lt;!-- 动态参数的缩写 (2.6.0+) --&gt;
&lt;a :[key]=&quot;url&quot;&gt; ... &lt;/a&gt;
</code></pre><pre><code>&lt;!-- 完整语法 --&gt;
&lt;a v-on:click=&quot;doSomething&quot;&gt;...&lt;/a&gt;

&lt;!-- 缩写 --&gt;
&lt;a @click=&quot;doSomething&quot;&gt;...&lt;/a&gt;

&lt;!-- 动态参数的缩写 (2.6.0+) --&gt;
&lt;a @[event]=&quot;doSomething&quot;&gt; ... &lt;/a&gt;
</code></pre><h3 id="计算属性">计算属性</h3>
<p><code>computed</code>中的内容就是计算属性, 基于响应式依赖进行缓存, <strong>只在相关响应式依赖发生改变时它们才会重新求值</strong>. 如果不要缓存, 使用方法也可以做到同样的效果. 除了计算属性之外还有侦听属性, 和前面的<code>vm.$watch</code>类似, 比如<code>&lt;input v-model=&quot;question&quot;&gt;</code>, 当用户在输入框打字时, 我们就可以用<code>watch</code>下的<code>question: function(newQuestion, oldQuestion) {}</code>侦听并执行代码块内的逻辑.</p>
<pre><code>var vm = new Vue({
  el: '#demo',
  data: {
    firstName: 'Foo',
    lastName: 'Bar'
  },
  computed: {
    fullName: function () {
      return this.firstName + ' ' + this.lastName
      //可以加入setter, 否则只有getter
      //get: function() {}
      //set: function() {}
    }
  }
})
</code></pre><h2 id="class绑定style">Class绑定Style</h2>
<p>实际上还是绑定了<code>data</code>中的字段.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;!-- v-bind:class=&quot;{ active: isActive, green: isGreen}&quot; map形式也可以, 这里的green指样式 --&gt;
        &lt;div 
        class=&quot;test&quot; 
        v-bind:class=&quot;[ isActive ? 'active' : '', isGreen ? 'green' : '']&quot; 
        style=&quot;width:200px; height:200px; text-align:center; line-height:200px;&quot;&gt;
            hi vue
        &lt;/div&gt;
        &lt;!--color(属性):color(变量)--&gt;
        &lt;div 
        :style=&quot;{color:color, fontSize:size, background: isRed ? '#FF0000' : ''}&quot;&gt;
            hi vue
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            isActive : true, //是否生效
            isGreen : true,
            color : &quot;#FFFFFF&quot;,
            size : '50px',
            isRed : true
        }
    });
    &lt;/script&gt;
    &lt;style&gt;
    .test{font-size:30px;}
    .green{color:#00FF00;}
    .active{background:#FF0000;}
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id="条件渲染">条件渲染</h2>
<p><code>if-else</code>中的模板可以复用元素, 可以用两个<code>&lt;input&gt;</code>做测试, 两个<code>&lt;input&gt;</code>通过一个按键互相切换, 输入框中的值不变. 如果想每次都重新渲染, 那么在<code>&lt;input&gt;</code>中加入<code>key</code>即可. 而<code>v-show</code>无论是否隐藏都会渲染, 只是用css进行隐藏.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;div v-if=&quot;type === 'A'&quot;&gt; &lt;!--根据条件渲染div(惰性)--&gt;
        A
        &lt;/div&gt;
        &lt;div v-else-if=&quot;type === 'B'&quot;&gt;
        B
        &lt;/div&gt;
        &lt;div v-else-if=&quot;type === 'C'&quot;&gt;
        C
        &lt;/div&gt;
        &lt;div v-else&gt;
        Not A/B/C
        &lt;/div&gt;
        &lt;!--根据条件渲染, element本身存在, 只是css渲染不同--&gt;
        &lt;h1 v-show=&quot;ok&quot;&gt;Hello!&lt;/h1&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            type : &quot;B&quot;,
            ok : true
        }
    });
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id="列表渲染">列表渲染</h2>
<p><code>&lt;li v-for=&quot;(item,index) in items&quot; :key=&quot;index&quot;&gt;</code>就是迭代的语法, <code>in</code>可以用<code>of</code>替换. <code>&lt;li v-for=&quot;value, key in object&quot;&gt;</code>可以用来迭代对象中的内容. 对象遍历的是<code>Object.keys()</code>的结果. <code>v-for</code>采用<strong>就地更新策略</strong>, 所以即使遍历对象顺序变了, Vue也不会移动Dom元素, 如果要更新这个元素, 就需要用<code>v-bind:key=&quot;index&quot;</code>来制定一个唯一的key确定节点身份, 其中<code>v-bind</code>可以省略.</p>
<p>可以用计算属性的<code>list.filter</code>进行对迭代结果进行过滤, 如果计算属性不适用, 也可以用方法包裹一个过滤.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;ul&gt;
            &lt;!--列表渲染数组元素与索引--&gt;
            &lt;!--:key等同v-bind:key, 让vue根据index排序, 否则list顺序改变是不会渲染新顺序的--&gt;
            &lt;li v-for=&quot;(item,index) in items&quot; :key=&quot;index&quot;&gt;
            {{index}}{{ item.message }}
            &lt;/li&gt;
        &lt;/ul&gt;
        &lt;ul&gt;
            &lt;li v-for=&quot;value, key in object&quot;&gt;
                {{key}} : {{ value }}
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            items : [
                { message: 'Foo' },
                { message: 'Bar' }
            ],
            object: {
                title: 'How to do lists in Vue',
                author: 'Jane Doe',
                publishedAt: '2016-04-10'
            }
        }
    });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><blockquote>
<p>官方文档不推荐在一个element上同时用<code>v-for</code>和<code>v-if</code>, 因为<code>v-for</code>的优先级更高, 所以其实每一次的迭代都运行<code>v-if</code>, 所以直接把<code>v-if</code>放在外层元素(template)才能真的跳过循环的执行.</p>
</blockquote>
<h2 id="事件处理">事件处理</h2>
<p>通过<code>v-on</code>绑定事件, 类似于中断器. 除了点击事件, 双击事件, 还可以处理<strong>系统修饰键</strong>, 比如<code>v-on:keyup.enter</code>拿到回车事件, <code>.left</code>鼠标左键事件等等.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;div id=&quot;example-1&quot;&gt;
            &lt;button v-on:click=&quot;counter += 1&quot;&gt; 数值 :  {{ counter }} &lt;/button&gt;&lt;br /&gt; &lt;!--直接绑定js指令--&gt;
            &lt;button v-on:dblclick=&quot;greet('abc', $event)&quot;&gt;Greet&lt;/button&gt; &lt;!--绑定greet函数,dblclick为双击--&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            counter: 0,
            name : &quot;vue&quot;
        },
        methods:{
            greet : function (str, e) {
                alert(str);
                console.log(e);
            }
        }
    });
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><h2 id="输入绑定">输入绑定</h2>
<p>可以对输入内容进行双向绑定. 要注意<code>v-model</code>不会在输入法组合文字过程中得到更新, 输入法输入需要用input事件处理.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;div id=&quot;example-1&quot;&gt;
            &lt;input v-model=&quot;message&quot; placeholder=&quot;edit me&quot;&gt; &lt;!--双向绑定message单行文本--&gt;
            &lt;p&gt;Message is: {{ message }}&lt;/p&gt;
            &lt;textarea v-model=&quot;message2&quot; placeholder=&quot;add multiple lines&quot;&gt;&lt;/textarea&gt; &lt;!--双向绑定message多行文本--&gt;
            &lt;p style=&quot;white-space: pre-line;&quot;&gt;{{ message2 }}&lt;/p&gt;
            &lt;br /&gt;
            
            &lt;!--复选框绑定到list--&gt;
            &lt;div style=&quot;margin-top:20px;&quot;&gt;
                &lt;input type=&quot;checkbox&quot; id=&quot;jack&quot; value=&quot;Jack&quot; v-model=&quot;checkedNames&quot;&gt;
                &lt;label for=&quot;jack&quot;&gt;Jack&lt;/label&gt;
                &lt;input type=&quot;checkbox&quot; id=&quot;john&quot; value=&quot;John&quot; v-model=&quot;checkedNames&quot;&gt;
                &lt;label for=&quot;john&quot;&gt;John&lt;/label&gt;
                &lt;input type=&quot;checkbox&quot; id=&quot;mike&quot; value=&quot;Mike&quot; v-model=&quot;checkedNames&quot;&gt;
                &lt;label for=&quot;mike&quot;&gt;Mike&lt;/label&gt;
                &lt;br&gt;
                &lt;span&gt;Checked names: {{ checkedNames }}&lt;/span&gt;
            &lt;/div&gt;
            
            &lt;!--单选按钮--&gt;
            &lt;div style=&quot;margin-top:20px;&quot;&gt;
                &lt;input type=&quot;radio&quot; id=&quot;one&quot; value=&quot;One&quot; v-model=&quot;picked&quot;&gt;
                &lt;label for=&quot;one&quot;&gt;One&lt;/label&gt;
                &lt;br&gt;
                &lt;input type=&quot;radio&quot; id=&quot;two&quot; value=&quot;Two&quot; v-model=&quot;picked&quot;&gt;
                &lt;label for=&quot;two&quot;&gt;Two&lt;/label&gt;
                &lt;br&gt;
                &lt;span&gt;Picked: {{ picked }}&lt;/span&gt;
            &lt;/div&gt;
            &lt;button type=&quot;button&quot; @click=&quot;submit&quot;&gt;提交&lt;/button&gt;
        &lt;/div&gt;
        
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            message : &quot;test&quot;, //初始化
            message2 :&quot;hi&quot;,
            checkedNames : ['Jack', 'John'],
            picked : &quot;Two&quot;
        },
        methods: {
            submit : function () {
                console.log(this.message);
                var postObj = { //通过变量收集所有data的值
                    msg1 : this.message1,
                    msg2 : this.message2,
                    checkval : this.checkedNames
                };
                console.log(postObj)
            }
        }
    });
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p><code>v-model</code>有一些修饰符, 比如:</p>
<ul>
<li><code>v-model.lazy</code>: 输入框在change事件之后同步, 而不是input</li>
<li><code>v-model.number</code>: 自动将用户的输入值转为数值类型</li>
<li><code>v-model.trim</code>: 减掉输入的首尾空白字符</li>
</ul>
<h2 id="组件components">组件(Components)</h2>
<p>注意这里的data是一个函数而不是一个字段, 保证每个实例可以维护一份被返回对象的独立的拷贝, 否则用到这个Component的地方都会使用同一个对象, 绑定的<code>template</code>中必须有<strong>根节点</strong>, 否则会报<code>every component must have a single root element</code>错误.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;!--数据封闭在组件内部, 互相没有影响--&gt;
        &lt;button-counter title=&quot;title1 : &quot; @clicknow=&quot;clicknow&quot;&gt;
            &lt;h2&gt;---------------&lt;/h2&gt;
        &lt;/button-counter&gt;
        &lt;button-counter title=&quot;title2 : &quot;&gt;&lt;/button-counter&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    Vue.component('button-counter', { //创建一个组件
        props: ['title'], //props定义组件属性
        data: function () {
            return {
                count: 0
            }
        },
        //组件template必须有根节点, &lt;slot&gt;&lt;/slot&gt;是插槽, 可以放入任意html标签, 这里是&lt;h2&gt;---------------&lt;/h2&gt;
        template: '&lt;div&gt;&lt;h1&gt;hi...&lt;/h1&gt;&lt;button v-on:click=&quot;clickfun&quot;&gt;{{title}} You clicked me {{ count }} times.&lt;/button&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;',
        methods:{ //组件脚本
            clickfun : function () {
                this.count ++;
                this.$emit('clicknow', this.count); //触发事件(事件名称, 可携带的参数)
            }
        }
    })
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            
        },
        methods:{
            clicknow : function (e) {
                console.log(e);
            }
        }
    });
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>可以局部绑定, 把<code>template</code>声明到Vue实例的<code>components</code>中. <code>props</code>中可以注册一些attributes, 这些中可以注册一些attributes就成为了组件的property.</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;script src=&quot;vue.js&quot; type=&quot;text/javascript&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;
        &lt;button-counter title=&quot;This is title&quot;&gt;&lt;/button-counter&gt;
        &lt;test&gt;&lt;/test&gt;
    &lt;/div&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    Vue.component('button-counter', {
        props: ['title'],
        data: function () {
            return {}
        },
        template: '&lt;div&gt;&lt;h1&gt;hi...{{ title }}&lt;/h1&gt;&lt;/div&gt;',
        methods:{
            
        }
    })
    var vm = new Vue({
        el : &quot;#app&quot;,
        data : {
            
        },
        methods:{
            clicknow : function (e) {
                console.log(e);
            }
        },
        components:{
            test : {
                template:&quot;&lt;h2&gt;h2...&lt;/h2&gt;&quot; //局部注册
            }
        }
    });
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;

    &lt;/style&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><blockquote>
<p>部分HTML元素对内部元素的类型有限制, 所以我们自定义的<code>component</code>如果放在里面, 可能会导致渲染错误.</p>
</blockquote>
<h2 id="单文件组件">单文件组件</h2>
<p>简单来说, 就是一个<code>.vue</code>文件作为一个单文件组件, 在页面文件中通过<code>import 文件名 from '路径/文件名.vue'</code>, 再用</p>
<pre><code>export default {
    name: 'app',
    components: {
        文件名
    }
}
</code></pre><p>注册这个组件, 在template中就可以使用这个组件了. 单文件组件包含<code>&lt;template&gt;/&lt;script&gt;/&lt;style&gt;</code>三种组件.</p>
<h2 id="参考">参考</h2>
<ol>
<li><a href="https://cn.vuejs.org/v2/guide/index.html">Vue getting started</a></li>
</ol>


                

                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/53_redis%E5%85%A5%E9%97%A8/" data-toggle="tooltip" data-placement="top" title="Redis入门">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/52_mybatis%E5%85%A5%E9%97%A8/" data-toggle="tooltip" data-placement="top" title="Mybatis入门">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

                


<div id="disqus-comment"></div>
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "xqt01" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="/tags/java" title="java">
                            java
                        </a>
                        
                        
                        
                        <a href="/tags/jvm" title="jvm">
                            jvm
                        </a>
                        
                        
                        
                        <a href="/tags/spring" title="spring">
                            spring
                        </a>
                        
                        
                        
                        <a href="/tags/%E5%89%8D%E7%AB%AF" title="前端">
                            前端
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" title="操作系统">
                            操作系统
                        </a>
                        
                        
                        
                        <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93" title="数据库">
                            数据库
                        </a>
                        
                        
                        
                        <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95" title="数据结构与算法">
                            数据结构与算法
                        </a>
                        
                        
                        
                        
                        
                        <a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B" title="网络编程">
                            网络编程
                        </a>
                        
                        
                    </div>
                </section>
                

                
                
                <section>
                    <hr>
                    <h5>FRIENDS</h5>
                    <ul class="list-inline">
                        
                        <li><a target="_blank" href="https://fan-bu-fan.github.io/">FELL &amp; ENJOY</a></li>
                        
                    </ul>
                </section>
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">                  
                    
                    <li>
                        <a href="mailto:huanruiz@foxmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/xqt01">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="PunchCode" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; PunchCode 2024
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>









<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>
